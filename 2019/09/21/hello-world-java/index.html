<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shakudada.xyz","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"79C1GXGOC6","apiKey":"225fa4bf2bc37c3e46a671682674fe37","indexName":"my-hexo-blog","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="hellojava hello world 12345678910public class HelloWorld &amp;#123;    public static void main(String[] args) &amp;#123;        &#x2F;&#x2F; Prints &quot;Hello, World&quot; to the terminal window.        System.out.pri">
<meta property="og:type" content="article">
<meta property="og:title" content="hello world java">
<meta property="og:url" content="https://shakudada.xyz/2019/09/21/hello-world-java/index.html">
<meta property="og:site_name" content="dinosaur">
<meta property="og:description" content="hellojava hello world 12345678910public class HelloWorld &amp;#123;    public static void main(String[] args) &amp;#123;        &#x2F;&#x2F; Prints &quot;Hello, World&quot; to the terminal window.        System.out.pri">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-09-21T01:41:37.000Z">
<meta property="article:modified_time" content="2023-10-25T03:42:47.886Z">
<meta property="article:author" content="dinosaur">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://shakudada.xyz/2019/09/21/hello-world-java/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>hello world java | dinosaur</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">dinosaur</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://shakudada.xyz/2019/09/21/hello-world-java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dinosaur">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dinosaur">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          hello world java
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-09-21 09:41:37" itemprop="dateCreated datePublished" datetime="2019-09-21T09:41:37+08:00">2019-09-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-25 11:42:47" itemprop="dateModified" datetime="2023-10-25T11:42:47+08:00">2023-10-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="hello"><a href="#hello" class="headerlink" title="hello"></a>hello</h2><p>java hello world</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class HelloWorld &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // Prints &quot;Hello, World&quot; to the terminal window.</span><br><span class="line">        System.out.println(&quot;Hello, World&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h4><p>编译 需要添加g 选项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javac -g HelloWorld.java </span><br></pre></td></tr></table></figure>
<h4 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h4><p><strong>方法一：</strong> </p>
<p>使用<code>jdb</code> 调试hello wrold</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jdb -classpath . HelloWorld</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; stop  in HelloWorld.main                                </span><br><span class="line">Deferring breakpoint HelloWorld.main.</span><br><span class="line">It will be set after the class is loaded.</span><br><span class="line">&gt; run</span><br><span class="line">run HelloWorld</span><br><span class="line">Set uncaught java.lang.Throwable</span><br><span class="line">Set deferred uncaught java.lang.Throwable</span><br><span class="line">&gt; </span><br><span class="line">VM Started: Set deferred breakpoint HelloWorld.main</span><br><span class="line"></span><br><span class="line">Breakpoint hit: &quot;thread=main&quot;, HelloWorld.main(), line=5 bci=0</span><br><span class="line">5            System.out.println(&quot;Hello, World&quot;);</span><br><span class="line"></span><br><span class="line">main[1] </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="使用maven-编写helloworld"><a href="#使用maven-编写helloworld" class="headerlink" title="使用maven 编写helloworld"></a>使用maven 编写helloworld</h2><p>当遇到<code>maven package</code>后，<code>java -java   some.jar</code> 说找不到main的时候可以参考以下答案<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/9689877/6229548">https://stackoverflow.com/a/9689877/6229548</a></p>
<h2 id="加载类"><a href="#加载类" class="headerlink" title="加载类"></a>加载类</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt</span><br><span class="line">#0  open64 () at ../sysdeps/unix/syscall-template.S:84</span><br><span class="line">#1  0x00007ffff695b544 in os::open (path=0x7ffff7fcefd0 &quot;/home/dinosaur/jdk8/build/linux-x86_64-normal-server-slowdebug/jdk/classes/java/lang/Class.class&quot;, oflag=0, mode=0)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/os/linux/vm/os_linux.cpp:5188</span><br><span class="line">#2  0x00007ffff63ffdfc in ClassPathDirEntry::open_stream (this=0x7ffff006f178, name=0x7ffff000cce8 &quot;java/lang/Class.class&quot;, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/classLoader.cpp:210</span><br><span class="line">#3  0x00007ffff640055b in LazyClassPathEntry::open_stream (this=0x7ffff001ad48, name=0x7ffff000cce8 &quot;java/lang/Class.class&quot;, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/classLoader.cpp:330</span><br><span class="line">#4  0x00007ffff640209b in ClassLoader::load_classfile (h_name=0x7ffff4062108, __the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/classLoader.cpp:909</span><br><span class="line">#5  0x00007ffff6a8570a in SystemDictionary::load_instance_class (class_name=0x7ffff4062108, class_loader=..., __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1304</span><br><span class="line">#6  0x00007ffff6a838b8 in SystemDictionary::resolve_instance_class_or_null (name=0x7ffff4062108, class_loader=..., protection_domain=..., __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:779</span><br><span class="line">#7  0x00007ffff6a81ff7 in SystemDictionary::resolve_or_null (class_name=0x7ffff4062108, class_loader=..., protection_domain=..., __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:232</span><br><span class="line">#8  0x00007ffff6a819f2 in SystemDictionary::resolve_or_fail (class_name=0x7ffff4062108, class_loader=..., protection_domain=..., throw_error=true, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:171</span><br><span class="line">#9  0x00007ffff6a81d64 in SystemDictionary::resolve_or_fail (class_name=0x7ffff4062108, throw_error=true, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:212</span><br><span class="line">#10 0x00007ffff6a87277 in SystemDictionary::initialize_wk_klass (id=SystemDictionary::Class_klass_knum, init_opt=0, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1866</span><br><span class="line">#11 0x00007ffff6a873a7 in SystemDictionary::initialize_wk_klasses_until (limit_id=SystemDictionary::Cloneable_klass_knum, start_id=@0x7ffff7fd0a84: SystemDictionary::Object_klass_knum, </span><br><span class="line">    __the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1882</span><br><span class="line">#12 0x00007ffff6a8b13c in SystemDictionary::initialize_wk_klasses_through (end_id=SystemDictionary::Class_klass_knum, start_id=@0x7ffff7fd0a84: SystemDictionary::Object_klass_knum, </span><br><span class="line">    __the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.hpp:408</span><br><span class="line">#13 0x00007ffff6a874e0 in SystemDictionary::initialize_preloaded_classes (__the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1901</span><br><span class="line">#14 0x00007ffff6a87199 in SystemDictionary::initialize (__the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1843</span><br><span class="line">#15 0x00007ffff6ad68c9 in Universe::genesis (__the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/memory/universe.cpp:288</span><br><span class="line">#16 0x00007ffff6ad8db6 in universe2_init () at /home/dinosaur/jdk8/hotspot/src/share/vm/memory/universe.cpp:991</span><br><span class="line">#17 0x00007ffff66463b3 in init_globals () at /home/dinosaur/jdk8/hotspot/src/share/vm/runtime/init.cpp:114</span><br><span class="line">#18 0x00007ffff6ab93ef in Threads::create_vm (args=0x7ffff7fd0e80, canTryAgain=0x7ffff7fd0e03) at /home/dinosaur/jdk8/hotspot/src/share/vm/runtime/thread.cpp:3424</span><br><span class="line">#19 0x00007ffff6702ed0 in JNI_CreateJavaVM (vm=0x7ffff7fd0ed8, penv=0x7ffff7fd0ee0, args=0x7ffff7fd0e80) at /home/dinosaur/jdk8/hotspot/src/share/vm/prims/jni.cpp:5166</span><br><span class="line">#20 0x00007ffff7bc3bda in InitializeJVM (pvm=0x7ffff7fd0ed8, penv=0x7ffff7fd0ee0, ifn=0x7ffff7fd0f30) at /home/dinosaur/jdk8/jdk/src/share/bin/java.c:1145</span><br><span class="line">#21 0x00007ffff7bc1a36 in JavaMain (_args=0x7fffffffa910) at /home/dinosaur/jdk8/jdk/src/share/bin/java.c:371</span><br><span class="line">#22 0x00007ffff73d66ba in start_thread (arg=0x7ffff7fd1700) at pthread_create.c:333</span><br><span class="line">#23 0x00007ffff78f741d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>加载classloader</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt</span><br><span class="line">#0  open64 () at ../sysdeps/unix/syscall-template.S:84</span><br><span class="line">#1  0x00007ffff695b544 in os::open (path=0x7ffff7fcefd0 &quot;/home/dinosaur/jdk8/build/linux-x86_64-normal-server-slowdebug/jdk/classes/java/lang/ClassLoader.class&quot;, oflag=0, mode=0)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/os/linux/vm/os_linux.cpp:5188</span><br><span class="line">#2  0x00007ffff63ffdfc in ClassPathDirEntry::open_stream (this=0x7ffff006f178, name=0x7ffff000cd08 &quot;java/lang/ClassLoader.class&quot;, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/classLoader.cpp:210</span><br><span class="line">#3  0x00007ffff640055b in LazyClassPathEntry::open_stream (this=0x7ffff001ad48, name=0x7ffff000cd08 &quot;java/lang/ClassLoader.class&quot;, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/classLoader.cpp:330</span><br><span class="line">#4  0x00007ffff640209b in ClassLoader::load_classfile (h_name=0x7ffff40621c8, __the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/classLoader.cpp:909</span><br><span class="line">#5  0x00007ffff6a8570a in SystemDictionary::load_instance_class (class_name=0x7ffff40621c8, class_loader=..., __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1304</span><br><span class="line">#6  0x00007ffff6a838b8 in SystemDictionary::resolve_instance_class_or_null (name=0x7ffff40621c8, class_loader=..., protection_domain=..., __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:779</span><br><span class="line">#7  0x00007ffff6a81ff7 in SystemDictionary::resolve_or_null (class_name=0x7ffff40621c8, class_loader=..., protection_domain=..., __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:232</span><br><span class="line">#8  0x00007ffff6a819f2 in SystemDictionary::resolve_or_fail (class_name=0x7ffff40621c8, class_loader=..., protection_domain=..., throw_error=true, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:171</span><br><span class="line">#9  0x00007ffff6a81d64 in SystemDictionary::resolve_or_fail (class_name=0x7ffff40621c8, throw_error=true, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:212</span><br><span class="line">#10 0x00007ffff6a87277 in SystemDictionary::initialize_wk_klass (id=SystemDictionary::ClassLoader_klass_knum, init_opt=0, __the_thread__=0x7ffff000c000)</span><br><span class="line">    at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1866</span><br><span class="line">#11 0x00007ffff6a873a7 in SystemDictionary::initialize_wk_klasses_until (limit_id=SystemDictionary::SoftReference_klass_knum, start_id=@0x7ffff7fd0a84: SystemDictionary::Cloneable_klass_knum, </span><br><span class="line">    __the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1882</span><br><span class="line">#12 0x00007ffff6a8b13c in SystemDictionary::initialize_wk_klasses_through (end_id=SystemDictionary::Reference_klass_knum, start_id=@0x7ffff7fd0a84: SystemDictionary::Cloneable_klass_knum, </span><br><span class="line">    __the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.hpp:408</span><br><span class="line">#13 0x00007ffff6a87553 in SystemDictionary::initialize_preloaded_classes (__the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1918</span><br><span class="line">#14 0x00007ffff6a87199 in SystemDictionary::initialize (__the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/classfile/systemDictionary.cpp:1843</span><br><span class="line">#15 0x00007ffff6ad68c9 in Universe::genesis (__the_thread__=0x7ffff000c000) at /home/dinosaur/jdk8/hotspot/src/share/vm/memory/universe.cpp:288</span><br><span class="line">#16 0x00007ffff6ad8db6 in universe2_init () at /home/dinosaur/jdk8/hotspot/src/share/vm/memory/universe.cpp:991</span><br><span class="line">#17 0x00007ffff66463b3 in init_globals () at /home/dinosaur/jdk8/hotspot/src/share/vm/runtime/init.cpp:114</span><br><span class="line">#18 0x00007ffff6ab93ef in Threads::create_vm (args=0x7ffff7fd0e80, canTryAgain=0x7ffff7fd0e03) at /home/dinosaur/jdk8/hotspot/src/share/vm/runtime/thread.cpp:3424</span><br><span class="line">#19 0x00007ffff6702ed0 in JNI_CreateJavaVM (vm=0x7ffff7fd0ed8, penv=0x7ffff7fd0ee0, args=0x7ffff7fd0e80) at /home/dinosaur/jdk8/hotspot/src/share/vm/prims/jni.cpp:5166</span><br><span class="line">#20 0x00007ffff7bc3bda in InitializeJVM (pvm=0x7ffff7fd0ed8, penv=0x7ffff7fd0ee0, ifn=0x7ffff7fd0f30) at /home/dinosaur/jdk8/jdk/src/share/bin/java.c:1145</span><br><span class="line">#21 0x00007ffff7bc1a36 in JavaMain (_args=0x7fffffffa910) at /home/dinosaur/jdk8/jdk/src/share/bin/java.c:371</span><br><span class="line">#22 0x00007ffff73d66ba in start_thread (arg=0x7ffff7fd1700) at pthread_create.c:333</span><br><span class="line">#23 0x00007ffff78f741d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="打印hello-world"><a href="#打印hello-world" class="headerlink" title="打印hello world"></a>打印hello world</h2><p>这是打印hello world 的堆栈，估计是被优化了打印不了完整堆栈</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt</span><br><span class="line">#0  write () at ../sysdeps/unix/syscall-template.S:84</span><br><span class="line">#1  0x00007ffff556779a in handleWrite (fd=1, buf=0x7ffff7fce270, len=12)</span><br><span class="line">    at /home/dinosaur/jdk8/jdk/src/solaris/native/java/io/io_util_md.c:164</span><br><span class="line">#2  0x00007ffff556710a in writeBytes (env=0x7ffff000c210, this=0x7ffff7fd0398, bytes=0x7ffff7fd0390, off=0, len=12, append=0 &#x27;\000&#x27;, </span><br><span class="line">    fid=0x47e1043) at /home/dinosaur/jdk8/jdk/src/share/native/java/io/io_util.c:189</span><br><span class="line">#3  0x00007ffff555a79c in Java_java_io_FileOutputStream_writeBytes (env=0x7ffff000c210, this=0x7ffff7fd0398, bytes=0x7ffff7fd0390, </span><br><span class="line">    off=0, len=12, append=0 &#x27;\000&#x27;) at /home/dinosaur/jdk8/jdk/src/solaris/native/java/io/FileOutputStream_md.c:70</span><br><span class="line">#4  0x00007fffe10298dc in ?? ()</span><br><span class="line">#5  0x0000000000000008 in ?? ()</span><br><span class="line">#6  0x0000000000000008 in ?? ()</span><br><span class="line">#7  0x00007ffff000c000 in ?? ()</span><br><span class="line">#8  0x00007fffe02c74d8 in ?? ()</span><br><span class="line">#9  0x00007fffe1028ee3 in ?? ()</span><br><span class="line">#10 0x00007ffff7fd0318 in ?? ()</span><br><span class="line">#11 0x00007fffe0173f60 in ?? ()</span><br><span class="line">#12 0x00007ffff7fd0398 in ?? ()</span><br><span class="line">#13 0x00007fffe0175120 in ?? ()</span><br><span class="line">#14 0x0000000000000000 in ?? ()</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">Hello, World</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt</span><br><span class="line">#0  write () at ../sysdeps/unix/syscall-template.S:84</span><br><span class="line">#1  0x00007ffff556779a in handleWrite (fd=1, buf=0x7ffff7fce2d0, len=1)</span><br><span class="line">    at /home/dinosaur/jdk8/jdk/src/solaris/native/java/io/io_util_md.c:164</span><br><span class="line">#2  0x00007ffff556710a in writeBytes (env=0x7ffff000c210, this=0x7ffff7fd0400, bytes=0x7ffff7fd03f8, off=0, len=1, append=0 &#x27;\000&#x27;, </span><br><span class="line">    fid=0x47e1043) at /home/dinosaur/jdk8/jdk/src/share/native/java/io/io_util.c:189</span><br><span class="line">#3  0x00007ffff555a79c in Java_java_io_FileOutputStream_writeBytes (env=0x7ffff000c210, this=0x7ffff7fd0400, bytes=0x7ffff7fd03f8, </span><br><span class="line">    off=0, len=1, append=0 &#x27;\000&#x27;) at /home/dinosaur/jdk8/jdk/src/solaris/native/java/io/FileOutputStream_md.c:70</span><br><span class="line">#4  0x00007fffe10298dc in ?? ()</span><br><span class="line">#5  0x00007ffff7fd0410 in ?? ()</span><br><span class="line">#6  0x00007ffff672dd43 in JVM_ArrayCopy (env=0x7ffff000c210, ignored=0x7ffff7fd0400, src=0x7ffff7fd03f8, src_pos=0, </span><br><span class="line">    dst=0x7f00f6265bea, dst_pos=1, length=0) at /home/dinosaur/jdk8/hotspot/src/share/vm/prims/jvm.cpp:298</span><br><span class="line">#7  0x00007fffe1007500 in ?? ()</span><br><span class="line">#8  0x0000000000000000 in ?? ()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="java-class-file"><a href="#java-class-file" class="headerlink" title="java class file"></a>java class file</h2><p> <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jvms/se8/jvms8.pdf">4.1 The ClassFile Structure</a></p>
<blockquote>
<p>A class file consists of a stream of 8-bit bytes. All 16-bit, 32-bit, and 64-bit<br>quantities are constructed by reading in two, four, and eight consecutive 8-bit<br>bytes, respectively. Multibyte data items are always stored in big-endian order,<br>where the high bytes come first. In the Java SE platform, this format is supported<br>by interfaces java.io.DataInput and java.io.DataOutput and classes such as<br>java.io.DataInputStream and java.io.DataOutputStream.</p>
</blockquote>
<p>通过jvm文档，可以知道class文件存的<code>magic number</code>是<code>0xCAFEBABE</code>，存储方式是大端的</p>
<p> <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jvms/se8/jvms8.pdf">4.1 The ClassFile Structure</a><br>A class file consists of a single ClassFile structure:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ClassFile &#123;</span><br><span class="line"> u4 magic;</span><br><span class="line"> u2 minor_version;</span><br><span class="line"> u2 major_version;</span><br><span class="line"> u2 constant_pool_count;</span><br><span class="line"> cp_info constant_pool[constant_pool_count-1];</span><br><span class="line"> u2 access_flags;</span><br><span class="line"> u2 this_class;</span><br><span class="line"> u2 super_class;</span><br><span class="line"> u2 interfaces_count;</span><br><span class="line"> u2 interfaces[interfaces_count];</span><br><span class="line"> u2 fields_count;</span><br><span class="line"> field_info fields[fields_count];</span><br><span class="line"> u2 methods_count;</span><br><span class="line"> method_info methods[methods_count];</span><br><span class="line"> u2 attributes_count;</span><br><span class="line"> attribute_info attributes[attributes_count];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>The magic item supplies the magic number identifying the class file format;<br>it has the value 0xCAFEBABE.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dinosaur@dinosaur-X550VXK:~/jdk8/build$ hexdump  HelloWorld.class -C</span><br></pre></td></tr></table></figure>
<p>使用hexdump查看class文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">00000000  ca fe ba be 00 00 00 34  00 1d 0a 00 06 00 0f 09  |.......4........|</span><br><span class="line">00000010  00 10 00 11 08 00 12 0a  00 13 00 14 07 00 15 07  |................|</span><br><span class="line">00000020  00 16 01 00 06 3c 69 6e  69 74 3e 01 00 03 28 29  |.....&lt;init&gt;...()|</span><br><span class="line">00000030  56 01 00 04 43 6f 64 65  01 00 0f 4c 69 6e 65 4e  |V...Code...LineN|</span><br><span class="line">00000040  75 6d 62 65 72 54 61 62  6c 65 01 00 04 6d 61 69  |umberTable...mai|</span><br><span class="line">00000050  6e 01 00 16 28 5b 4c 6a  61 76 61 2f 6c 61 6e 67  |n...([Ljava/lang|</span><br><span class="line">00000060  2f 53 74 72 69 6e 67 3b  29 56 01 00 0a 53 6f 75  |/String;)V...Sou|</span><br><span class="line">00000070  72 63 65 46 69 6c 65 01  00 0f 48 65 6c 6c 6f 57  |rceFile...HelloW|</span><br><span class="line">00000080  6f 72 6c 64 2e 6a 61 76  61 0c 00 07 00 08 07 00  |orld.java.......|</span><br><span class="line">00000090  17 0c 00 18 00 19 01 00  0c 48 65 6c 6c 6f 2c 20  |.........Hello, |</span><br><span class="line">000000a0  57 6f 72 6c 64 07 00 1a  0c 00 1b 00 1c 01 00 0a  |World...........|</span><br><span class="line">000000b0  48 65 6c 6c 6f 57 6f 72  6c 64 01 00 10 6a 61 76  |HelloWorld...jav|</span><br><span class="line">000000c0  61 2f 6c 61 6e 67 2f 4f  62 6a 65 63 74 01 00 10  |a/lang/Object...|</span><br><span class="line">000000d0  6a 61 76 61 2f 6c 61 6e  67 2f 53 79 73 74 65 6d  |java/lang/System|</span><br><span class="line">000000e0  01 00 03 6f 75 74 01 00  15 4c 6a 61 76 61 2f 69  |...out...Ljava/i|</span><br><span class="line">000000f0  6f 2f 50 72 69 6e 74 53  74 72 65 61 6d 3b 01 00  |o/PrintStream;..|</span><br><span class="line">00000100  13 6a 61 76 61 2f 69 6f  2f 50 72 69 6e 74 53 74  |.java/io/PrintSt|</span><br><span class="line">00000110  72 65 61 6d 01 00 07 70  72 69 6e 74 6c 6e 01 00  |ream...println..|</span><br><span class="line">00000120  15 28 4c 6a 61 76 61 2f  6c 61 6e 67 2f 53 74 72  |.(Ljava/lang/Str|</span><br><span class="line">00000130  69 6e 67 3b 29 56 00 21  00 05 00 06 00 00 00 00  |ing;)V.!........|</span><br><span class="line">00000140  00 02 00 01 00 07 00 08  00 01 00 09 00 00 00 1d  |................|</span><br><span class="line">00000150  00 01 00 01 00 00 00 05  2a b7 00 01 b1 00 00 00  |........*.......|</span><br><span class="line">00000160  01 00 0a 00 00 00 06 00  01 00 00 00 01 00 09 00  |................|</span><br><span class="line">00000170  0b 00 0c 00 01 00 09 00  00 00 25 00 02 00 01 00  |..........%.....|</span><br><span class="line">00000180  00 00 09 b2 00 02 12 03  b6 00 04 b1 00 00 00 01  |................|</span><br><span class="line">00000190  00 0a 00 00 00 0a 00 02  00 00 00 05 00 08 00 06  |................|</span><br><span class="line">000001a0  00 01 00 0d 00 00 00 02  00 0e                    |..........|</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们来看看hello world这个class文件的各种内容</p>
<p>第一个是magic number： <code>ca fe ba be</code> 四个字节<br>然后是minor_version：<code>00 00</code><br>major_version:<code>00 34</code>  </p>
<h2 id="相关阅读"><a href="#相关阅读" class="headerlink" title="相关阅读"></a>相关阅读</h2><ul>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/9229.html">https://coolshell.cn/articles/9229.html</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/openjdk/jdk/tree/jdk8-b116/langtools/src/share/classes/com/sun/tools/javac">https://github.com/openjdk/jdk/tree/jdk8-b116/langtools/src/share/classes/com/sun/tools/javac</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/whthomas/p/javac.html">https://www.cnblogs.com/whthomas/p/javac.html</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/09/21/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%98%AF%E4%BB%80%E4%B9%88/" rel="prev" title="环境变量是什么">
      <i class="fa fa-chevron-left"></i> 环境变量是什么
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/09/28/maven%E6%89%93%E5%8C%85NoClassDefFoundError-on-Maven-dependency/" rel="next" title="maven打包NoClassDefFoundError">
      maven打包NoClassDefFoundError <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#hello"><span class="nav-number">1.</span> <span class="nav-text">hello</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E8%AF%91"><span class="nav-number">1.0.1.</span> <span class="nav-text">编译</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%83%E8%AF%95"><span class="nav-number">1.0.2.</span> <span class="nav-text">调试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8maven-%E7%BC%96%E5%86%99helloworld"><span class="nav-number">2.</span> <span class="nav-text">使用maven 编写helloworld</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E7%B1%BB"><span class="nav-number">3.</span> <span class="nav-text">加载类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%93%E5%8D%B0hello-world"><span class="nav-number">4.</span> <span class="nav-text">打印hello world</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-class-file"><span class="nav-number">5.</span> <span class="nav-text">java class file</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E9%98%85%E8%AF%BB"><span class="nav-number">6.</span> <span class="nav-text">相关阅读</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">dinosaur</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">255</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/769344359" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;769344359" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/thedinosaurmail@gmail.com" title="E-Mail → thedinosaurmail@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">dinosaur</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>














  

  

</body>
</html>
