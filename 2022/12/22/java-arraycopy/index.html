<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shakudada.xyz","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"79C1GXGOC6","apiKey":"225fa4bf2bc37c3e46a671682674fe37","indexName":"my-hexo-blog","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="背景了解arraycopy的实现,是浅拷贝还是深拷贝 arrays在了解arraycopy之前,先了解arrays 在jls里面有很详细的描述 12In the Java programming language, arrays are objects (§4.3.1), are dynamically createdAn array object contains a number of var">
<meta property="og:type" content="article">
<meta property="og:title" content="java arraycopy">
<meta property="og:url" content="https://shakudada.xyz/2022/12/22/java-arraycopy/index.html">
<meta property="og:site_name" content="dinosaur">
<meta property="og:description" content="背景了解arraycopy的实现,是浅拷贝还是深拷贝 arrays在了解arraycopy之前,先了解arrays 在jls里面有很详细的描述 12In the Java programming language, arrays are objects (§4.3.1), are dynamically createdAn array object contains a number of var">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-12-22T06:32:12.000Z">
<meta property="article:modified_time" content="2023-10-25T03:42:47.889Z">
<meta property="article:author" content="dinosaur">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://shakudada.xyz/2022/12/22/java-arraycopy/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>java arraycopy | dinosaur</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">dinosaur</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://shakudada.xyz/2022/12/22/java-arraycopy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dinosaur">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dinosaur">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          java arraycopy
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-22 14:32:12" itemprop="dateCreated datePublished" datetime="2022-12-22T14:32:12+08:00">2022-12-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-25 11:42:47" itemprop="dateModified" datetime="2023-10-25T11:42:47+08:00">2023-10-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>了解arraycopy的实现,是浅拷贝还是深拷贝</p>
<h3 id="arrays"><a href="#arrays" class="headerlink" title="arrays"></a>arrays</h3><p>在了解<code>arraycopy</code>之前,先了解<code>arrays</code></p>
<p>在<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html">jls</a>里面有很详细的描述</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In the Java programming language, arrays are objects (§4.3.1), are dynamically created</span><br><span class="line">An array object contains a number of variables. The number of variables may be zero, in which case the array is said to be empty. The variables contained in an array have no names; instead they are referenced by array access expressions that use non-negative integer index values. These variables are called the components of the array. If an array has n components, we say n is the length of the array; the components of the array are referenced using integer indices from 0 to n - 1, inclusive.</span><br></pre></td></tr></table></figure>

<p>arrays:   </p>
<ul>
<li>类型:<code>Object</code>  </li>
<li>arrays对象持有的是变量<code>variables</code></li>
</ul>
<h4 id="变量-variables"><a href="#变量-variables" class="headerlink" title="变量 variables"></a><a href="(https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12)">变量</a> <code>variables</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A variable is a storage location and has an associated type, sometimes called its compile-time type, that is either a primitive type (§4.2) or a reference type (§4.3).</span><br><span class="line"></span><br><span class="line">A variable&#x27;s value is changed by an assignment (§15.26) or by a prefix or postfix ++ (increment) or -- (decrement) operator (§15.14.2, §15.14.3, §15.15.1, §15.15.2).</span><br></pre></td></tr></table></figure>

<p>variable 由两部分组成:</p>
<ul>
<li>type<ul>
<li>primitive type</li>
<li>reference type</li>
</ul>
</li>
<li>value<ul>
<li>primitive  value</li>
<li>reference value</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">4.3.1 Objects</span><br><span class="line">An object is a class instance or an array.</span><br><span class="line">The reference values (often just references) are pointers to these objects, and a</span><br><span class="line">special null reference, which refers to no object.</span><br></pre></td></tr></table></figure>

<h3 id="jni-实现"><a href="#jni-实现" class="headerlink" title="jni 实现"></a>jni 实现</h3><p><code>src\hotspot\share\oops\objArrayKlass.cpp</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">void ObjArrayKlass::copy_array(arrayOop s, int src_pos, arrayOop d,</span><br><span class="line">                               int dst_pos, int length, TRAPS) &#123;</span><br><span class="line">  assert(s-&gt;is_objArray(), &quot;must be obj array&quot;);</span><br><span class="line"></span><br><span class="line">  if (!d-&gt;is_objArray()) &#123;</span><br><span class="line">    ResourceMark rm(THREAD);</span><br><span class="line">    stringStream ss;</span><br><span class="line">    if (d-&gt;is_typeArray()) &#123;</span><br><span class="line">      ss.print(&quot;arraycopy: type mismatch: can not copy object array[] into %s[]&quot;,</span><br><span class="line">               type2name_tab[ArrayKlass::cast(d-&gt;klass())-&gt;element_type()]);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      ss.print(&quot;arraycopy: destination type %s is not an array&quot;, d-&gt;klass()-&gt;external_name());</span><br><span class="line">    &#125;</span><br><span class="line">    THROW_MSG(vmSymbols::java_lang_ArrayStoreException(), ss.as_string());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // Check is all offsets and lengths are non negative</span><br><span class="line">  if (src_pos &lt; 0 || dst_pos &lt; 0 || length &lt; 0) &#123;</span><br><span class="line">    // Pass specific exception reason.</span><br><span class="line">    ResourceMark rm(THREAD);</span><br><span class="line">    stringStream ss;</span><br><span class="line">    if (src_pos &lt; 0) &#123;</span><br><span class="line">      ss.print(&quot;arraycopy: source index %d out of bounds for object array[%d]&quot;,</span><br><span class="line">               src_pos, s-&gt;length());</span><br><span class="line">    &#125; else if (dst_pos &lt; 0) &#123;</span><br><span class="line">      ss.print(&quot;arraycopy: destination index %d out of bounds for object array[%d]&quot;,</span><br><span class="line">               dst_pos, d-&gt;length());</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      ss.print(&quot;arraycopy: length %d is negative&quot;, length);</span><br><span class="line">    &#125;</span><br><span class="line">    THROW_MSG(vmSymbols::java_lang_ArrayIndexOutOfBoundsException(), ss.as_string());</span><br><span class="line">  &#125;</span><br><span class="line">  // Check if the ranges are valid</span><br><span class="line">  if ((((unsigned int) length + (unsigned int) src_pos) &gt; (unsigned int) s-&gt;length()) ||</span><br><span class="line">      (((unsigned int) length + (unsigned int) dst_pos) &gt; (unsigned int) d-&gt;length())) &#123;</span><br><span class="line">    // Pass specific exception reason.</span><br><span class="line">    ResourceMark rm(THREAD);</span><br><span class="line">    stringStream ss;</span><br><span class="line">    if (((unsigned int) length + (unsigned int) src_pos) &gt; (unsigned int) s-&gt;length()) &#123;</span><br><span class="line">      ss.print(&quot;arraycopy: last source index %u out of bounds for object array[%d]&quot;,</span><br><span class="line">               (unsigned int) length + (unsigned int) src_pos, s-&gt;length());</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      ss.print(&quot;arraycopy: last destination index %u out of bounds for object array[%d]&quot;,</span><br><span class="line">               (unsigned int) length + (unsigned int) dst_pos, d-&gt;length());</span><br><span class="line">    &#125;</span><br><span class="line">    THROW_MSG(vmSymbols::java_lang_ArrayIndexOutOfBoundsException(), ss.as_string());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // Special case. Boundary cases must be checked first</span><br><span class="line">  // This allows the following call: copy_array(s, s.length(), d.length(), 0).</span><br><span class="line">  // This is correct, since the position is supposed to be an &#x27;in between point&#x27;, i.e., s.length(),</span><br><span class="line">  // points to the right of the last element.</span><br><span class="line">  if (length==0) &#123;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  if (UseCompressedOops) &#123;</span><br><span class="line">    size_t src_offset = (size_t) objArrayOopDesc::obj_at_offset&lt;narrowOop&gt;(src_pos);</span><br><span class="line">    size_t dst_offset = (size_t) objArrayOopDesc::obj_at_offset&lt;narrowOop&gt;(dst_pos);</span><br><span class="line">    assert(arrayOopDesc::obj_offset_to_raw&lt;narrowOop&gt;(s, src_offset, NULL) ==</span><br><span class="line">           objArrayOop(s)-&gt;obj_at_addr&lt;narrowOop&gt;(src_pos), &quot;sanity&quot;);</span><br><span class="line">    assert(arrayOopDesc::obj_offset_to_raw&lt;narrowOop&gt;(d, dst_offset, NULL) ==</span><br><span class="line">           objArrayOop(d)-&gt;obj_at_addr&lt;narrowOop&gt;(dst_pos), &quot;sanity&quot;);</span><br><span class="line">    do_copy(s, src_offset, d, dst_offset, length, CHECK);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    size_t src_offset = (size_t) objArrayOopDesc::obj_at_offset&lt;oop&gt;(src_pos);</span><br><span class="line">    size_t dst_offset = (size_t) objArrayOopDesc::obj_at_offset&lt;oop&gt;(dst_pos);</span><br><span class="line">    assert(arrayOopDesc::obj_offset_to_raw&lt;oop&gt;(s, src_offset, NULL) ==</span><br><span class="line">           objArrayOop(s)-&gt;obj_at_addr&lt;oop&gt;(src_pos), &quot;sanity&quot;);</span><br><span class="line">    assert(arrayOopDesc::obj_offset_to_raw&lt;oop&gt;(d, dst_offset, NULL) ==</span><br><span class="line">           objArrayOop(d)-&gt;obj_at_addr&lt;oop&gt;(dst_pos), &quot;sanity&quot;);</span><br><span class="line">    do_copy(s, src_offset, d, dst_offset, length, CHECK);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt</span><br><span class="line">#0  Copy::conjoint_oops_atomic (count=6, to=0x62a434ee8, from=0x62a42f220) at /home/dai/jdk/src/hotspot/share/utilities/copy.hpp:164</span><br><span class="line">#1  AccessInternal::arraycopy_conjoint_oops (src=0x62a42f220, dst=0x62a434ee8, length=6) at /home/dai/jdk/src/hotspot/share/oops/accessBackend.cpp:94</span><br><span class="line">#2  0x00007ffff7067317 in RawAccessBarrierArrayCopy::arraycopy&lt;18112614ul, narrowOop&gt; (length=6, dst_raw=&lt;optimized out&gt;, dst_offset_in_bytes=0, dst_obj=..., src_raw=0x62a42f220, src_offset_in_bytes=0, </span><br><span class="line">    src_obj=...) at /home/dai/jdk/src/hotspot/share/oops/accessBackend.inline.hpp:270</span><br><span class="line">#3  RawAccessBarrier&lt;18112614ul&gt;::arraycopy&lt;narrowOop&gt; (length=6, dst_raw=0x62a434ee8, dst_offset_in_bytes=0, dst_obj=..., src_raw=&lt;optimized out&gt;, src_offset_in_bytes=0, src_obj=...)</span><br><span class="line">    at /home/dai/jdk/src/hotspot/share/oops/accessBackend.inline.hpp:344</span><br><span class="line">#4  RawAccessBarrier&lt;18112614ul&gt;::oop_arraycopy&lt;narrowOop&gt; (length=6, dst_raw=0x62a434ee8, dst_offset_in_bytes=0, dst_obj=..., src_raw=&lt;optimized out&gt;, src_offset_in_bytes=0, src_obj=...)</span><br><span class="line">    at /home/dai/jdk/src/hotspot/share/oops/accessBackend.inline.hpp:128</span><br><span class="line">#5  ModRefBarrierSet::AccessBarrier&lt;18112614ul, G1BarrierSet&gt;::oop_arraycopy_in_heap&lt;narrowOop&gt; (length=6, dst_raw=0x62a434ee8, dst_offset_in_bytes=&lt;optimized out&gt;, dst_obj=..., </span><br><span class="line">    src_raw=&lt;optimized out&gt;, src_offset_in_bytes=&lt;optimized out&gt;, src_obj=...) at /home/dai/jdk/src/hotspot/share/gc/shared/modRefBarrierSet.inline.hpp:108</span><br><span class="line">#6  AccessInternal::PostRuntimeDispatch&lt;G1BarrierSet::AccessBarrier&lt;18112614ul, G1BarrierSet&gt;, (AccessInternal::BarrierType)8, 18112614ul&gt;::oop_access_barrier&lt;HeapWordImpl*&gt; (src_obj=..., </span><br><span class="line">    src_offset_in_bytes=&lt;optimized out&gt;, src_raw=&lt;optimized out&gt;, dst_obj=..., dst_offset_in_bytes=&lt;optimized out&gt;, dst_raw=&lt;optimized out&gt;, length=6)</span><br><span class="line">    at /home/dai/jdk/src/hotspot/share/oops/access.inline.hpp:142</span><br><span class="line">#7  0x00007ffff7063f43 in AccessInternal::RuntimeDispatch&lt;18112582ul, HeapWordImpl*, (AccessInternal::BarrierType)8&gt;::arraycopy_init (src_obj=..., src_offset_in_bytes=16, src_raw=0x0, dst_obj=..., </span><br><span class="line">    dst_offset_in_bytes=&lt;optimized out&gt;, dst_raw=&lt;optimized out&gt;, length=&lt;optimized out&gt;) at /home/dai/jdk/src/hotspot/share/oops/access.inline.hpp:339</span><br><span class="line">#8  0x00007ffff7061a0e in AccessInternal::RuntimeDispatch&lt;18112582ul, HeapWordImpl*, (AccessInternal::BarrierType)8&gt;::arraycopy (length=&lt;optimized out&gt;, dst_raw=&lt;optimized out&gt;, </span><br><span class="line">    dst_offset_in_bytes=&lt;optimized out&gt;, dst_obj=..., src_raw=&lt;optimized out&gt;, src_offset_in_bytes=&lt;optimized out&gt;, src_obj=...) at /home/dai/jdk/src/hotspot/share/oops/accessBackend.hpp:554</span><br><span class="line">#9  AccessInternal::PreRuntimeDispatch::arraycopy&lt;18112582ul, HeapWordImpl*&gt; (length=&lt;optimized out&gt;, dst_raw=&lt;optimized out&gt;, dst_offset_in_bytes=&lt;optimized out&gt;, dst_obj=..., src_raw=&lt;optimized out&gt;, </span><br><span class="line">    src_offset_in_bytes=&lt;optimized out&gt;, src_obj=...) at /home/dai/jdk/src/hotspot/share/oops/accessBackend.hpp:907</span><br><span class="line">#10 AccessInternal::arraycopy_reduce_types&lt;18112580ul&gt; (length=&lt;optimized out&gt;, dst_raw=&lt;optimized out&gt;, dst_offset_in_bytes=&lt;optimized out&gt;, dst_obj=..., src_raw=&lt;optimized out&gt;, </span><br><span class="line">    src_offset_in_bytes=&lt;optimized out&gt;, src_obj=...) at /home/dai/jdk/src/hotspot/share/oops/accessBackend.hpp:1054</span><br><span class="line">#11 AccessInternal::arraycopy&lt;18087940ul, HeapWordImpl*&gt; (length=&lt;optimized out&gt;, dst_raw=&lt;optimized out&gt;, dst_offset_in_bytes=&lt;optimized out&gt;, dst_obj=..., src_raw=&lt;optimized out&gt;, </span><br><span class="line">    src_offset_in_bytes=&lt;optimized out&gt;, src_obj=...) at /home/dai/jdk/src/hotspot/share/oops/accessBackend.hpp:1208</span><br><span class="line">#12 Access&lt;18087936ul&gt;::oop_arraycopy&lt;HeapWordImpl*&gt; (length=&lt;optimized out&gt;, dst_raw=&lt;optimized out&gt;, dst_offset_in_bytes=&lt;optimized out&gt;, dst_obj=..., src_raw=&lt;optimized out&gt;, </span><br><span class="line">    src_offset_in_bytes=&lt;optimized out&gt;, src_obj=...) at /home/dai/jdk/src/hotspot/share/oops/access.hpp:137</span><br><span class="line">#13 ArrayAccess&lt;16777216ul&gt;::oop_arraycopy (length=&lt;optimized out&gt;, dst_offset_in_bytes=&lt;optimized out&gt;, dst_obj=..., src_offset_in_bytes=&lt;optimized out&gt;, src_obj=...)</span><br><span class="line">    at /home/dai/jdk/src/hotspot/share/oops/access.hpp:323</span><br><span class="line">#14 ObjArrayKlass::do_copy (this=this@entry=0x800058a00, s=..., src_offset=src_offset@entry=16, d=..., dst_offset=dst_offset@entry=16, length=length@entry=6, __the_thread__=0x7ffff0028f20)</span><br><span class="line">    at /home/dai/jdk/src/hotspot/share/oops/objArrayKlass.cpp:213</span><br><span class="line">#15 0x00007ffff7062e33 in ObjArrayKlass::copy_array (this=0x800058a00, s=..., src_pos=&lt;optimized out&gt;, d=..., dst_pos=&lt;optimized out&gt;, length=6, __the_thread__=0x7ffff0028f20)</span><br><span class="line">    at /home/dai/jdk/src/hotspot/share/oops/oopsHierarchy.hpp:85</span><br><span class="line">#16 0x00007ffff6b2d75f in JVM_ArrayCopy (env=&lt;optimized out&gt;, ignored=&lt;optimized out&gt;, src=&lt;optimized out&gt;, src_pos=0, dst=&lt;optimized out&gt;, dst_pos=0, length=6)</span><br><span class="line">    at /home/dai/jdk/src/hotspot/share/prims/jvm.cpp:298</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><code>x86</code>的汇编代码如下<code>src/hotspot/os_cpu/linux_x86/linux_x86_64.S</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">        # Support for void Copy::arrayof_conjoint_jlongs(jlong* from,</span><br><span class="line">        #                                                jlong* to,</span><br><span class="line">        #                                                size_t count)</span><br><span class="line">        # Equivalent to</span><br><span class="line">        #   conjoint_jlongs_atomic</span><br><span class="line">        #   arrayof_conjoint_oops</span><br><span class="line">        #   conjoint_oops_atomic</span><br><span class="line">        #</span><br><span class="line">        # rdi - from</span><br><span class="line">        # rsi - to</span><br><span class="line">        # rdx - count, treated as ssize_t</span><br><span class="line">        #</span><br><span class="line">        .p2align 4,,15</span><br><span class="line">	.type    _Copy_arrayof_conjoint_jlongs,@function</span><br><span class="line">	.type    _Copy_conjoint_jlongs_atomic,@function</span><br><span class="line">_Copy_arrayof_conjoint_jlongs:</span><br><span class="line">_Copy_conjoint_jlongs_atomic:</span><br><span class="line">        cmpq     %rdi,%rsi</span><br><span class="line">        leaq     -8(%rdi,%rdx,8),%rax # from + count*8 - 8</span><br><span class="line">        jbe      acl_CopyRight</span><br><span class="line">        cmpq     %rax,%rsi</span><br><span class="line">        jbe      acl_CopyLeft </span><br><span class="line">acl_CopyRight:</span><br><span class="line">        leaq     -8(%rsi,%rdx,8),%rcx # to + count*8 - 8</span><br><span class="line">        negq     %rdx</span><br><span class="line">        jmp      3f</span><br><span class="line">1:      movq     8(%rax,%rdx,8),%rsi</span><br><span class="line">        movq     %rsi,8(%rcx,%rdx,8)</span><br><span class="line">        addq     $1,%rdx</span><br><span class="line">        jnz      1b</span><br><span class="line">        ret</span><br><span class="line">        .p2align 4,,15</span><br><span class="line">2:      movq     -24(%rax,%rdx,8),%rsi</span><br><span class="line">        movq     %rsi,-24(%rcx,%rdx,8)</span><br><span class="line">        movq     -16(%rax,%rdx,8),%rsi</span><br><span class="line">        movq     %rsi,-16(%rcx,%rdx,8)</span><br><span class="line">        movq     -8(%rax,%rdx,8),%rsi</span><br><span class="line">        movq     %rsi,-8(%rcx,%rdx,8)</span><br><span class="line">        movq     (%rax,%rdx,8),%rsi</span><br><span class="line">        movq     %rsi,(%rcx,%rdx,8)</span><br><span class="line">3:      addq     $4,%rdx</span><br><span class="line">        jle      2b</span><br><span class="line">        subq     $4,%rdx</span><br><span class="line">        jl       1b</span><br><span class="line">        ret</span><br><span class="line">4:      movq     -8(%rdi,%rdx,8),%rcx</span><br><span class="line">        movq     %rcx,-8(%rsi,%rdx,8)</span><br><span class="line">        subq     $1,%rdx</span><br><span class="line">        jnz      4b</span><br><span class="line">        ret</span><br><span class="line">        .p2align 4,,15</span><br><span class="line">5:      movq     24(%rdi,%rdx,8),%rcx</span><br><span class="line">        movq     %rcx,24(%rsi,%rdx,8)</span><br><span class="line">        movq     16(%rdi,%rdx,8),%rcx</span><br><span class="line">        movq     %rcx,16(%rsi,%rdx,8)</span><br><span class="line">        movq     8(%rdi,%rdx,8),%rcx</span><br><span class="line">        movq     %rcx,8(%rsi,%rdx,8)</span><br><span class="line">        movq     (%rdi,%rdx,8),%rcx</span><br><span class="line">        movq     %rcx,(%rsi,%rdx,8)</span><br><span class="line">acl_CopyLeft:</span><br><span class="line">        subq     $4,%rdx</span><br><span class="line">        jge      5b</span><br><span class="line">        addq     $4,%rdx</span><br><span class="line">        jg       4b</span><br><span class="line">        ret</span><br></pre></td></tr></table></figure>

<p>这里的文件<code>jz</code> <code>jne</code> 是相对段的偏移 ， 然后试试编译成字节码之后看效果</p>
<p>这里的<code>as</code>是将汇编代码编译成二进制代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br></pre></td><td class="code"><pre><span class="line">$ as src/hotspot/os_cpu/linux_x86/linux_x86_64.S</span><br><span class="line">$ objdump -S  a.out </span><br><span class="line"></span><br><span class="line">a.out:     file format elf64-x86-64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">0000000000000000 &lt;SpinPause&gt;:</span><br><span class="line">   0:	f3 90                	pause  </span><br><span class="line">   2:	48 c7 c0 01 00 00 00 	mov    $0x1,%rax</span><br><span class="line">   9:	c3                   	ret    </span><br><span class="line">   a:	66 0f 1f 44 00 00    	nopw   0x0(%rax,%rax,1)</span><br><span class="line"></span><br><span class="line">0000000000000010 &lt;_Copy_arrayof_conjoint_bytes&gt;:</span><br><span class="line">  10:	49 89 d0             	mov    %rdx,%r8</span><br><span class="line">  13:	48 c1 ea 03          	shr    $0x3,%rdx</span><br><span class="line">  17:	48 39 fe             	cmp    %rdi,%rsi</span><br><span class="line">  1a:	4a 8d 44 07 ff       	lea    -0x1(%rdi,%r8,1),%rax</span><br><span class="line">  1f:	76 09                	jbe    2a &lt;acb_CopyRight&gt;</span><br><span class="line">  21:	48 39 c6             	cmp    %rax,%rsi</span><br><span class="line">  24:	0f 86 9e 00 00 00    	jbe    c8 &lt;acb_CopyLeft&gt;</span><br><span class="line"></span><br><span class="line">000000000000002a &lt;acb_CopyRight&gt;:</span><br><span class="line">  2a:	48 8d 44 d7 f8       	lea    -0x8(%rdi,%rdx,8),%rax</span><br><span class="line">  2f:	48 8d 4c d6 f8       	lea    -0x8(%rsi,%rdx,8),%rcx</span><br><span class="line">  34:	48 f7 da             	neg    %rdx</span><br><span class="line">  37:	eb 7d                	jmp    b6 &lt;acb_CopyRight+0x8c&gt;</span><br><span class="line">  39:	0f 1f 80 00 00 00 00 	nopl   0x0(%rax)</span><br><span class="line">  40:	48 8b 74 d0 08       	mov    0x8(%rax,%rdx,8),%rsi</span><br><span class="line">  45:	48 89 74 d1 08       	mov    %rsi,0x8(%rcx,%rdx,8)</span><br><span class="line">  4a:	48 83 c2 01          	add    $0x1,%rdx</span><br><span class="line">  4e:	75 f0                	jne    40 &lt;acb_CopyRight+0x16&gt;</span><br><span class="line">  50:	49 f7 c0 04 00 00 00 	test   $0x4,%r8</span><br><span class="line">  57:	74 0e                	je     67 &lt;acb_CopyRight+0x3d&gt;</span><br><span class="line">  59:	8b 70 08             	mov    0x8(%rax),%esi</span><br><span class="line">  5c:	89 71 08             	mov    %esi,0x8(%rcx)</span><br><span class="line">  5f:	48 83 c0 04          	add    $0x4,%rax</span><br><span class="line">  63:	48 83 c1 04          	add    $0x4,%rcx</span><br><span class="line">  67:	49 f7 c0 02 00 00 00 	test   $0x2,%r8</span><br><span class="line">  6e:	74 0c                	je     7c &lt;acb_CopyRight+0x52&gt;</span><br><span class="line">  70:	66 8b 70 08          	mov    0x8(%rax),%si</span><br><span class="line">  74:	66 89 71 08          	mov    %si,0x8(%rcx)</span><br><span class="line">  78:	48 83 c1 02          	add    $0x2,%rcx</span><br><span class="line">  7c:	49 f7 c0 01 00 00 00 	test   $0x1,%r8</span><br><span class="line">  83:	74 08                	je     8d &lt;acb_CopyRight+0x63&gt;</span><br><span class="line">  85:	42 8a 44 07 ff       	mov    -0x1(%rdi,%r8,1),%al</span><br><span class="line">  8a:	88 41 08             	mov    %al,0x8(%rcx)</span><br><span class="line">  8d:	c3                   	ret    </span><br><span class="line">  8e:	66 90                	xchg   %ax,%ax</span><br><span class="line">  90:	48 8b 74 d0 e8       	mov    -0x18(%rax,%rdx,8),%rsi</span><br><span class="line">  95:	48 89 74 d1 e8       	mov    %rsi,-0x18(%rcx,%rdx,8)</span><br><span class="line">  9a:	48 8b 74 d0 f0       	mov    -0x10(%rax,%rdx,8),%rsi</span><br><span class="line">  9f:	48 89 74 d1 f0       	mov    %rsi,-0x10(%rcx,%rdx,8)</span><br><span class="line">  a4:	48 8b 74 d0 f8       	mov    -0x8(%rax,%rdx,8),%rsi</span><br><span class="line">  a9:	48 89 74 d1 f8       	mov    %rsi,-0x8(%rcx,%rdx,8)</span><br><span class="line">  ae:	48 8b 34 d0          	mov    (%rax,%rdx,8),%rsi</span><br><span class="line">  b2:	48 89 34 d1          	mov    %rsi,(%rcx,%rdx,8)</span><br><span class="line">  b6:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line">  ba:	7e d4                	jle    90 &lt;acb_CopyRight+0x66&gt;</span><br><span class="line">  bc:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line">  c0:	0f 8c 7a ff ff ff    	jl     40 &lt;acb_CopyRight+0x16&gt;</span><br><span class="line">  c6:	eb 88                	jmp    50 &lt;acb_CopyRight+0x26&gt;</span><br><span class="line"></span><br><span class="line">00000000000000c8 &lt;acb_CopyLeft&gt;:</span><br><span class="line">  c8:	49 f7 c0 01 00 00 00 	test   $0x1,%r8</span><br><span class="line">  cf:	74 0e                	je     df &lt;acb_CopyLeft+0x17&gt;</span><br><span class="line">  d1:	42 8a 4c 07 ff       	mov    -0x1(%rdi,%r8,1),%cl</span><br><span class="line">  d6:	42 88 4c 06 ff       	mov    %cl,-0x1(%rsi,%r8,1)</span><br><span class="line">  db:	49 83 e8 01          	sub    $0x1,%r8</span><br><span class="line">  df:	49 f7 c0 02 00 00 00 	test   $0x2,%r8</span><br><span class="line">  e6:	74 0c                	je     f4 &lt;acb_CopyLeft+0x2c&gt;</span><br><span class="line">  e8:	66 42 8b 4c 07 fe    	mov    -0x2(%rdi,%r8,1),%cx</span><br><span class="line">  ee:	66 42 89 4c 06 fe    	mov    %cx,-0x2(%rsi,%r8,1)</span><br><span class="line">  f4:	49 f7 c0 04 00 00 00 	test   $0x4,%r8</span><br><span class="line">  fb:	74 59                	je     156 &lt;acb_CopyLeft+0x8e&gt;</span><br><span class="line">  fd:	8b 0c d7             	mov    (%rdi,%rdx,8),%ecx</span><br><span class="line"> 100:	89 0c d6             	mov    %ecx,(%rsi,%rdx,8)</span><br><span class="line"> 103:	eb 51                	jmp    156 &lt;acb_CopyLeft+0x8e&gt;</span><br><span class="line"> 105:	66 66 2e 0f 1f 84 00 	data16 cs nopw 0x0(%rax,%rax,1)</span><br><span class="line"> 10c:	00 00 00 00 </span><br><span class="line"> 110:	48 8b 4c d7 f8       	mov    -0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 115:	48 89 4c d6 f8       	mov    %rcx,-0x8(%rsi,%rdx,8)</span><br><span class="line"> 11a:	48 83 ea 01          	sub    $0x1,%rdx</span><br><span class="line"> 11e:	75 f0                	jne    110 &lt;acb_CopyLeft+0x48&gt;</span><br><span class="line"> 120:	c3                   	ret    </span><br><span class="line"> 121:	66 66 2e 0f 1f 84 00 	data16 cs nopw 0x0(%rax,%rax,1)</span><br><span class="line"> 128:	00 00 00 00 </span><br><span class="line"> 12c:	0f 1f 40 00          	nopl   0x0(%rax)</span><br><span class="line"> 130:	48 8b 4c d7 18       	mov    0x18(%rdi,%rdx,8),%rcx</span><br><span class="line"> 135:	48 89 4c d6 18       	mov    %rcx,0x18(%rsi,%rdx,8)</span><br><span class="line"> 13a:	48 8b 4c d7 10       	mov    0x10(%rdi,%rdx,8),%rcx</span><br><span class="line"> 13f:	48 89 4c d6 10       	mov    %rcx,0x10(%rsi,%rdx,8)</span><br><span class="line"> 144:	48 8b 4c d7 08       	mov    0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 149:	48 89 4c d6 08       	mov    %rcx,0x8(%rsi,%rdx,8)</span><br><span class="line"> 14e:	48 8b 0c d7          	mov    (%rdi,%rdx,8),%rcx</span><br><span class="line"> 152:	48 89 0c d6          	mov    %rcx,(%rsi,%rdx,8)</span><br><span class="line"> 156:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line"> 15a:	7d d4                	jge    130 &lt;acb_CopyLeft+0x68&gt;</span><br><span class="line"> 15c:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line"> 160:	7f ae                	jg     110 &lt;acb_CopyLeft+0x48&gt;</span><br><span class="line"> 162:	c3                   	ret    </span><br><span class="line"> 163:	66 66 2e 0f 1f 84 00 	data16 cs nopw 0x0(%rax,%rax,1)</span><br><span class="line"> 16a:	00 00 00 00 </span><br><span class="line"> 16e:	66 90                	xchg   %ax,%ax</span><br><span class="line"></span><br><span class="line">0000000000000170 &lt;_Copy_arrayof_conjoint_jshorts&gt;:</span><br><span class="line"> 170:	49 89 d0             	mov    %rdx,%r8</span><br><span class="line"> 173:	48 c1 ea 02          	shr    $0x2,%rdx</span><br><span class="line"> 177:	48 39 fe             	cmp    %rdi,%rsi</span><br><span class="line"> 17a:	4a 8d 44 47 fe       	lea    -0x2(%rdi,%r8,2),%rax</span><br><span class="line"> 17f:	76 05                	jbe    186 &lt;acs_CopyRight&gt;</span><br><span class="line"> 181:	48 39 c6             	cmp    %rax,%rsi</span><br><span class="line"> 184:	76 7e                	jbe    204 &lt;acs_CopyLeft&gt;</span><br><span class="line"></span><br><span class="line">0000000000000186 &lt;acs_CopyRight&gt;:</span><br><span class="line"> 186:	48 8d 44 d7 f8       	lea    -0x8(%rdi,%rdx,8),%rax</span><br><span class="line"> 18b:	48 8d 4c d6 f8       	lea    -0x8(%rsi,%rdx,8),%rcx</span><br><span class="line"> 190:	48 f7 da             	neg    %rdx</span><br><span class="line"> 193:	eb 61                	jmp    1f6 &lt;acs_CopyRight+0x70&gt;</span><br><span class="line"> 195:	48 8b 74 d0 08       	mov    0x8(%rax,%rdx,8),%rsi</span><br><span class="line"> 19a:	48 89 74 d1 08       	mov    %rsi,0x8(%rcx,%rdx,8)</span><br><span class="line"> 19f:	48 83 c2 01          	add    $0x1,%rdx</span><br><span class="line"> 1a3:	75 f0                	jne    195 &lt;acs_CopyRight+0xf&gt;</span><br><span class="line"> 1a5:	49 f7 c0 02 00 00 00 	test   $0x2,%r8</span><br><span class="line"> 1ac:	74 0a                	je     1b8 &lt;acs_CopyRight+0x32&gt;</span><br><span class="line"> 1ae:	8b 70 08             	mov    0x8(%rax),%esi</span><br><span class="line"> 1b1:	89 71 08             	mov    %esi,0x8(%rcx)</span><br><span class="line"> 1b4:	48 83 c1 04          	add    $0x4,%rcx</span><br><span class="line"> 1b8:	49 f7 c0 01 00 00 00 	test   $0x1,%r8</span><br><span class="line"> 1bf:	74 0a                	je     1cb &lt;acs_CopyRight+0x45&gt;</span><br><span class="line"> 1c1:	66 42 8b 74 47 fe    	mov    -0x2(%rdi,%r8,2),%si</span><br><span class="line"> 1c7:	66 89 71 08          	mov    %si,0x8(%rcx)</span><br><span class="line"> 1cb:	c3                   	ret    </span><br><span class="line"> 1cc:	0f 1f 40 00          	nopl   0x0(%rax)</span><br><span class="line"> 1d0:	48 8b 74 d0 e8       	mov    -0x18(%rax,%rdx,8),%rsi</span><br><span class="line"> 1d5:	48 89 74 d1 e8       	mov    %rsi,-0x18(%rcx,%rdx,8)</span><br><span class="line"> 1da:	48 8b 74 d0 f0       	mov    -0x10(%rax,%rdx,8),%rsi</span><br><span class="line"> 1df:	48 89 74 d1 f0       	mov    %rsi,-0x10(%rcx,%rdx,8)</span><br><span class="line"> 1e4:	48 8b 74 d0 f8       	mov    -0x8(%rax,%rdx,8),%rsi</span><br><span class="line"> 1e9:	48 89 74 d1 f8       	mov    %rsi,-0x8(%rcx,%rdx,8)</span><br><span class="line"> 1ee:	48 8b 34 d0          	mov    (%rax,%rdx,8),%rsi</span><br><span class="line"> 1f2:	48 89 34 d1          	mov    %rsi,(%rcx,%rdx,8)</span><br><span class="line"> 1f6:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line"> 1fa:	7e d4                	jle    1d0 &lt;acs_CopyRight+0x4a&gt;</span><br><span class="line"> 1fc:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line"> 200:	7c 93                	jl     195 &lt;acs_CopyRight+0xf&gt;</span><br><span class="line"> 202:	eb a1                	jmp    1a5 &lt;acs_CopyRight+0x1f&gt;</span><br><span class="line"></span><br><span class="line">0000000000000204 &lt;acs_CopyLeft&gt;:</span><br><span class="line"> 204:	49 f7 c0 01 00 00 00 	test   $0x1,%r8</span><br><span class="line"> 20b:	74 0c                	je     219 &lt;acs_CopyLeft+0x15&gt;</span><br><span class="line"> 20d:	66 42 8b 4c 47 fe    	mov    -0x2(%rdi,%r8,2),%cx</span><br><span class="line"> 213:	66 42 89 4c 46 fe    	mov    %cx,-0x2(%rsi,%r8,2)</span><br><span class="line"> 219:	49 f7 c0 02 00 00 00 	test   $0x2,%r8</span><br><span class="line"> 220:	74 44                	je     266 &lt;acs_CopyLeft+0x62&gt;</span><br><span class="line"> 222:	8b 0c d7             	mov    (%rdi,%rdx,8),%ecx</span><br><span class="line"> 225:	89 0c d6             	mov    %ecx,(%rsi,%rdx,8)</span><br><span class="line"> 228:	eb 3c                	jmp    266 &lt;acs_CopyLeft+0x62&gt;</span><br><span class="line"> 22a:	48 8b 4c d7 f8       	mov    -0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 22f:	48 89 4c d6 f8       	mov    %rcx,-0x8(%rsi,%rdx,8)</span><br><span class="line"> 234:	48 83 ea 01          	sub    $0x1,%rdx</span><br><span class="line"> 238:	75 f0                	jne    22a &lt;acs_CopyLeft+0x26&gt;</span><br><span class="line"> 23a:	c3                   	ret    </span><br><span class="line"> 23b:	0f 1f 44 00 00       	nopl   0x0(%rax,%rax,1)</span><br><span class="line"> 240:	48 8b 4c d7 18       	mov    0x18(%rdi,%rdx,8),%rcx</span><br><span class="line"> 245:	48 89 4c d6 18       	mov    %rcx,0x18(%rsi,%rdx,8)</span><br><span class="line"> 24a:	48 8b 4c d7 10       	mov    0x10(%rdi,%rdx,8),%rcx</span><br><span class="line"> 24f:	48 89 4c d6 10       	mov    %rcx,0x10(%rsi,%rdx,8)</span><br><span class="line"> 254:	48 8b 4c d7 08       	mov    0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 259:	48 89 4c d6 08       	mov    %rcx,0x8(%rsi,%rdx,8)</span><br><span class="line"> 25e:	48 8b 0c d7          	mov    (%rdi,%rdx,8),%rcx</span><br><span class="line"> 262:	48 89 0c d6          	mov    %rcx,(%rsi,%rdx,8)</span><br><span class="line"> 266:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line"> 26a:	7d d4                	jge    240 &lt;acs_CopyLeft+0x3c&gt;</span><br><span class="line"> 26c:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line"> 270:	7f b8                	jg     22a &lt;acs_CopyLeft+0x26&gt;</span><br><span class="line"> 272:	c3                   	ret    </span><br><span class="line"> 273:	66 66 2e 0f 1f 84 00 	data16 cs nopw 0x0(%rax,%rax,1)</span><br><span class="line"> 27a:	00 00 00 00 </span><br><span class="line"> 27e:	66 90                	xchg   %ax,%ax</span><br><span class="line"></span><br><span class="line">0000000000000280 &lt;_Copy_arrayof_conjoint_jints&gt;:</span><br><span class="line"> 280:	49 89 d0             	mov    %rdx,%r8</span><br><span class="line"> 283:	48 d1 ea             	shr    %rdx</span><br><span class="line"> 286:	48 39 fe             	cmp    %rdi,%rsi</span><br><span class="line"> 289:	4a 8d 44 87 fc       	lea    -0x4(%rdi,%r8,4),%rax</span><br><span class="line"> 28e:	76 05                	jbe    295 &lt;aci_CopyRight&gt;</span><br><span class="line"> 290:	48 39 c6             	cmp    %rax,%rsi</span><br><span class="line"> 293:	76 6f                	jbe    304 &lt;aci_CopyLeft&gt;</span><br><span class="line"></span><br><span class="line">0000000000000295 &lt;aci_CopyRight&gt;:</span><br><span class="line"> 295:	48 8d 44 d7 f8       	lea    -0x8(%rdi,%rdx,8),%rax</span><br><span class="line"> 29a:	48 8d 4c d6 f8       	lea    -0x8(%rsi,%rdx,8),%rcx</span><br><span class="line"> 29f:	48 f7 da             	neg    %rdx</span><br><span class="line"> 2a2:	eb 52                	jmp    2f6 &lt;aci_CopyRight+0x61&gt;</span><br><span class="line"> 2a4:	66 66 2e 0f 1f 84 00 	data16 cs nopw 0x0(%rax,%rax,1)</span><br><span class="line"> 2ab:	00 00 00 00 </span><br><span class="line"> 2af:	90                   	nop</span><br><span class="line"> 2b0:	48 8b 74 d0 08       	mov    0x8(%rax,%rdx,8),%rsi</span><br><span class="line"> 2b5:	48 89 74 d1 08       	mov    %rsi,0x8(%rcx,%rdx,8)</span><br><span class="line"> 2ba:	48 83 c2 01          	add    $0x1,%rdx</span><br><span class="line"> 2be:	75 f0                	jne    2b0 &lt;aci_CopyRight+0x1b&gt;</span><br><span class="line"> 2c0:	49 f7 c0 01 00 00 00 	test   $0x1,%r8</span><br><span class="line"> 2c7:	74 06                	je     2cf &lt;aci_CopyRight+0x3a&gt;</span><br><span class="line"> 2c9:	8b 70 08             	mov    0x8(%rax),%esi</span><br><span class="line"> 2cc:	89 71 08             	mov    %esi,0x8(%rcx)</span><br><span class="line"> 2cf:	c3                   	ret    </span><br><span class="line"> 2d0:	48 8b 74 d0 e8       	mov    -0x18(%rax,%rdx,8),%rsi</span><br><span class="line"> 2d5:	48 89 74 d1 e8       	mov    %rsi,-0x18(%rcx,%rdx,8)</span><br><span class="line"> 2da:	48 8b 74 d0 f0       	mov    -0x10(%rax,%rdx,8),%rsi</span><br><span class="line"> 2df:	48 89 74 d1 f0       	mov    %rsi,-0x10(%rcx,%rdx,8)</span><br><span class="line"> 2e4:	48 8b 74 d0 f8       	mov    -0x8(%rax,%rdx,8),%rsi</span><br><span class="line"> 2e9:	48 89 74 d1 f8       	mov    %rsi,-0x8(%rcx,%rdx,8)</span><br><span class="line"> 2ee:	48 8b 34 d0          	mov    (%rax,%rdx,8),%rsi</span><br><span class="line"> 2f2:	48 89 34 d1          	mov    %rsi,(%rcx,%rdx,8)</span><br><span class="line"> 2f6:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line"> 2fa:	7e d4                	jle    2d0 &lt;aci_CopyRight+0x3b&gt;</span><br><span class="line"> 2fc:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line"> 300:	7c ae                	jl     2b0 &lt;aci_CopyRight+0x1b&gt;</span><br><span class="line"> 302:	eb bc                	jmp    2c0 &lt;aci_CopyRight+0x2b&gt;</span><br><span class="line"></span><br><span class="line">0000000000000304 &lt;aci_CopyLeft&gt;:</span><br><span class="line"> 304:	49 f7 c0 01 00 00 00 	test   $0x1,%r8</span><br><span class="line"> 30b:	74 49                	je     356 &lt;aci_CopyLeft+0x52&gt;</span><br><span class="line"> 30d:	42 8b 4c 87 fc       	mov    -0x4(%rdi,%r8,4),%ecx</span><br><span class="line"> 312:	42 89 4c 86 fc       	mov    %ecx,-0x4(%rsi,%r8,4)</span><br><span class="line"> 317:	eb 3d                	jmp    356 &lt;aci_CopyLeft+0x52&gt;</span><br><span class="line"> 319:	48 8b 4c d7 f8       	mov    -0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 31e:	48 89 4c d6 f8       	mov    %rcx,-0x8(%rsi,%rdx,8)</span><br><span class="line"> 323:	48 83 ea 01          	sub    $0x1,%rdx</span><br><span class="line"> 327:	75 f0                	jne    319 &lt;aci_CopyLeft+0x15&gt;</span><br><span class="line"> 329:	c3                   	ret    </span><br><span class="line"> 32a:	66 0f 1f 44 00 00    	nopw   0x0(%rax,%rax,1)</span><br><span class="line"> 330:	48 8b 4c d7 18       	mov    0x18(%rdi,%rdx,8),%rcx</span><br><span class="line"> 335:	48 89 4c d6 18       	mov    %rcx,0x18(%rsi,%rdx,8)</span><br><span class="line"> 33a:	48 8b 4c d7 10       	mov    0x10(%rdi,%rdx,8),%rcx</span><br><span class="line"> 33f:	48 89 4c d6 10       	mov    %rcx,0x10(%rsi,%rdx,8)</span><br><span class="line"> 344:	48 8b 4c d7 08       	mov    0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 349:	48 89 4c d6 08       	mov    %rcx,0x8(%rsi,%rdx,8)</span><br><span class="line"> 34e:	48 8b 0c d7          	mov    (%rdi,%rdx,8),%rcx</span><br><span class="line"> 352:	48 89 0c d6          	mov    %rcx,(%rsi,%rdx,8)</span><br><span class="line"> 356:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line"> 35a:	7d d4                	jge    330 &lt;aci_CopyLeft+0x2c&gt;</span><br><span class="line"> 35c:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line"> 360:	7f b7                	jg     319 &lt;aci_CopyLeft+0x15&gt;</span><br><span class="line"> 362:	c3                   	ret    </span><br><span class="line"> 363:	66 66 2e 0f 1f 84 00 	data16 cs nopw 0x0(%rax,%rax,1)</span><br><span class="line"> 36a:	00 00 00 00 </span><br><span class="line"> 36e:	66 90                	xchg   %ax,%ax</span><br><span class="line"></span><br><span class="line">0000000000000370 &lt;_Copy_arrayof_conjoint_jlongs&gt;:</span><br><span class="line"> 370:	48 39 fe             	cmp    %rdi,%rsi</span><br><span class="line"> 373:	48 8d 44 d7 f8       	lea    -0x8(%rdi,%rdx,8),%rax</span><br><span class="line"> 378:	76 09                	jbe    383 &lt;acl_CopyRight&gt;</span><br><span class="line"> 37a:	48 39 c6             	cmp    %rax,%rsi</span><br><span class="line"> 37d:	0f 86 93 00 00 00    	jbe    416 &lt;acl_CopyLeft&gt;</span><br><span class="line"></span><br><span class="line">0000000000000383 &lt;acl_CopyRight&gt;:</span><br><span class="line"> 383:	48 8d 4c d6 f8       	lea    -0x8(%rsi,%rdx,8),%rcx</span><br><span class="line"> 388:	48 f7 da             	neg    %rdx</span><br><span class="line"> 38b:	eb 39                	jmp    3c6 &lt;acl_CopyRight+0x43&gt;</span><br><span class="line"> 38d:	48 8b 74 d0 08       	mov    0x8(%rax,%rdx,8),%rsi</span><br><span class="line"> 392:	48 89 74 d1 08       	mov    %rsi,0x8(%rcx,%rdx,8)</span><br><span class="line"> 397:	48 83 c2 01          	add    $0x1,%rdx</span><br><span class="line"> 39b:	75 f0                	jne    38d &lt;acl_CopyRight+0xa&gt;</span><br><span class="line"> 39d:	c3                   	ret    </span><br><span class="line"> 39e:	66 90                	xchg   %ax,%ax</span><br><span class="line"> 3a0:	48 8b 74 d0 e8       	mov    -0x18(%rax,%rdx,8),%rsi</span><br><span class="line"> 3a5:	48 89 74 d1 e8       	mov    %rsi,-0x18(%rcx,%rdx,8)</span><br><span class="line"> 3aa:	48 8b 74 d0 f0       	mov    -0x10(%rax,%rdx,8),%rsi</span><br><span class="line"> 3af:	48 89 74 d1 f0       	mov    %rsi,-0x10(%rcx,%rdx,8)</span><br><span class="line"> 3b4:	48 8b 74 d0 f8       	mov    -0x8(%rax,%rdx,8),%rsi</span><br><span class="line"> 3b9:	48 89 74 d1 f8       	mov    %rsi,-0x8(%rcx,%rdx,8)</span><br><span class="line"> 3be:	48 8b 34 d0          	mov    (%rax,%rdx,8),%rsi</span><br><span class="line"> 3c2:	48 89 34 d1          	mov    %rsi,(%rcx,%rdx,8)</span><br><span class="line"> 3c6:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line"> 3ca:	7e d4                	jle    3a0 &lt;acl_CopyRight+0x1d&gt;</span><br><span class="line"> 3cc:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line"> 3d0:	7c bb                	jl     38d &lt;acl_CopyRight+0xa&gt;</span><br><span class="line"> 3d2:	c3                   	ret    </span><br><span class="line"> 3d3:	48 8b 4c d7 f8       	mov    -0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 3d8:	48 89 4c d6 f8       	mov    %rcx,-0x8(%rsi,%rdx,8)</span><br><span class="line"> 3dd:	48 83 ea 01          	sub    $0x1,%rdx</span><br><span class="line"> 3e1:	75 f0                	jne    3d3 &lt;acl_CopyRight+0x50&gt;</span><br><span class="line"> 3e3:	c3                   	ret    </span><br><span class="line"> 3e4:	66 66 2e 0f 1f 84 00 	data16 cs nopw 0x0(%rax,%rax,1)</span><br><span class="line"> 3eb:	00 00 00 00 </span><br><span class="line"> 3ef:	90                   	nop</span><br><span class="line"> 3f0:	48 8b 4c d7 18       	mov    0x18(%rdi,%rdx,8),%rcx</span><br><span class="line"> 3f5:	48 89 4c d6 18       	mov    %rcx,0x18(%rsi,%rdx,8)</span><br><span class="line"> 3fa:	48 8b 4c d7 10       	mov    0x10(%rdi,%rdx,8),%rcx</span><br><span class="line"> 3ff:	48 89 4c d6 10       	mov    %rcx,0x10(%rsi,%rdx,8)</span><br><span class="line"> 404:	48 8b 4c d7 08       	mov    0x8(%rdi,%rdx,8),%rcx</span><br><span class="line"> 409:	48 89 4c d6 08       	mov    %rcx,0x8(%rsi,%rdx,8)</span><br><span class="line"> 40e:	48 8b 0c d7          	mov    (%rdi,%rdx,8),%rcx</span><br><span class="line"> 412:	48 89 0c d6          	mov    %rcx,(%rsi,%rdx,8)</span><br><span class="line"></span><br><span class="line">0000000000000416 &lt;acl_CopyLeft&gt;:</span><br><span class="line"> 416:	48 83 ea 04          	sub    $0x4,%rdx</span><br><span class="line"> 41a:	7d d4                	jge    3f0 &lt;acl_CopyRight+0x6d&gt;</span><br><span class="line"> 41c:	48 83 c2 04          	add    $0x4,%rdx</span><br><span class="line"> 420:	7f b1                	jg     3d3 &lt;acl_CopyRight+0x50&gt;</span><br><span class="line"> 422:	c3                   	ret  </span><br></pre></td></tr></table></figure>


<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>arrays 包含一堆变量.变量有两种值:<code>primitive</code>值 , <code>reference</code>值.</p>
<p>所以<code>copyarrays</code>复制的是变量,也就是复制的是引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Copies an array from the specified source array, beginning at the specified position, to the specified position of the destination array. A subsequence of array components are copied from the source array referenced by src to the destination array referenced by dest. The number of components copied is equal to the length argument. The components at positions srcPos through srcPos+length-1 in the source array are copied into positions destPos through destPos+length-1, respectively, of the destination array.</span><br></pre></td></tr></table></figure>










<h2 id="相关阅读"><a href="#相关阅读" class="headerlink" title="相关阅读"></a>相关阅读</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/System.html">https://docs.oracle.com/javase/8/docs/api/java/lang/System.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011642663/article/details/49512643">https://blog.csdn.net/u011642663/article/details/49512643</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/daichangya/archive/2012/02/10/12960032.html">https://www.cnblogs.com/daichangya/archive/2012/02/10/12960032.html</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903573545811981">https://juejin.cn/post/6844903573545811981</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/12/22/rabbitmq-spring-boot/" rel="prev" title="rabbitmq  spring boot">
      <i class="fa fa-chevron-left"></i> rabbitmq  spring boot
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/12/26/java%E5%9F%BA%E7%A1%80/" rel="next" title="java基础">
      java基础 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%83%8C%E6%99%AF"><span class="nav-number">1.</span> <span class="nav-text">背景</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#arrays"><span class="nav-number">1.1.</span> <span class="nav-text">arrays</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F-variables"><span class="nav-number">1.1.1.</span> <span class="nav-text">变量 variables</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jni-%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.2.</span> <span class="nav-text">jni 实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">2.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E9%98%85%E8%AF%BB"><span class="nav-number">3.</span> <span class="nav-text">相关阅读</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">dinosaur</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">256</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/769344359" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;769344359" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/thedinosaurmail@gmail.com" title="E-Mail → thedinosaurmail@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">dinosaur</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>














  

  

</body>
</html>
